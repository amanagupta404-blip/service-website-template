---
import BaseLayout from '@layouts/BaseLayout.astro';
import Container from '@components/layout/Container.svelte';
import Section from '@components/layout/Section.svelte';
import Hero from '@components/sections/Hero.svelte';
import ServiceCard from '@components/ui/ServiceCard.svelte';
import PortfolioGrid from '@components/ui/PortfolioGrid.svelte';
import Testimonial from '@components/ui/Testimonial.svelte';
import BlogCard from '@components/ui/BlogCard.svelte';
import CTASection from '@components/sections/CTASection.svelte';
import TestCounter from '@components/TestCounter.svelte';
import ColorPalette from '@components/ui/ColorPalette.svelte';
import TypographyShowcase from '@components/ui/TypographyShowcase.svelte';
import ResponsiveDemo from '@components/ui/ResponsiveDemo.svelte';
import ContainerDemo from '@components/ui/ContainerDemo.svelte';
import ContainerQueryTest from '@components/ui/ContainerQueryTest.svelte';
import ThemeSwitcher from '@components/ui/ThemeSwitcher.svelte';
import Icon from '@components/ui/Icon.svelte';
import Button from '@components/ui/Button.svelte';
import Input from '@components/ui/Input.svelte';
import Textarea from '@components/ui/Textarea.svelte';
import Select from '@components/ui/Select.svelte';
import Checkbox from '@components/ui/Checkbox.svelte';
---

<BaseLayout
  title="Service Website Template"
  description="Professional service website with modern design system and multi-theme support"
>
  <main id="main-content">
    <!-- ==================== ACTUAL WEBSITE CONTENT ==================== -->

    <!-- Hero Section -->
    <Hero
      headline="Transform Your Vision Into Reality"
      subheadline="We deliver exceptional digital solutions that drive results. From web development to mobile apps, we bring your ideas to life with cutting-edge technology and expert craftsmanship."
      primaryCTA={{ text: "Get Started", href: "#contact" }}
      secondaryCTA={{ text: "View Our Work", href: "#portfolio" }}
      backgroundImage="https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=1920&q=80"
    />

    <!-- Services Section -->
    <Section backgroundColor="primary" paddingY="large" id="services">
      <Container maxWidth="xl">
        <div class="text-center mb-12">
          <h2 class="text-4xl md:text-5xl font-bold mb-4">Our Services</h2>
          <p class="text-xl text-secondary max-w-2xl mx-auto">
            Comprehensive solutions tailored to your business needs
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <ServiceCard
            title="Web Development"
            description="Build modern, responsive websites with the latest technologies and best practices for optimal performance and user experience."
            icon="external-link"
            href="/services/web-development"
          />
          
          <ServiceCard
            title="Mobile Applications"
            description="Create native and cross-platform mobile applications for iOS and Android with seamless user experiences."
            icon="phone"
            href="/services/mobile-apps"
          />
          
          <ServiceCard
            title="UI/UX Design"
            description="Design beautiful, intuitive user interfaces that delight your customers and drive engagement."
            icon="heart"
            href="/services/design"
          />
          
          <ServiceCard
            title="Consulting"
            description="Get expert advice on technology strategy, architecture, and implementation from our experienced team."
            icon="user"
            href="/services/consulting"
          />
          
          <ServiceCard
            title="Cloud Services"
            description="Deploy and manage your applications on modern cloud infrastructure with scalability and security."
            icon="settings"
            href="/services/cloud"
          />
          
          <ServiceCard
            title="Support & Maintenance"
            description="Keep your applications running smoothly with ongoing support, updates, and performance optimization."
            icon="check-circle"
            href="/services/support"
          />
        </div>
      </Container>
    </Section>

    <!-- About Snapshot Section -->
    <Section backgroundColor="tertiary" paddingY="large" id="about-snapshot">
      <Container maxWidth="xl">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <!-- Image Column -->
          <div class="order-2 lg:order-1">
            <img
              src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&q=80"
              alt="Our team collaborating on innovative solutions"
              class="rounded-lg shadow-lg w-full h-auto"
              loading="lazy"
            />
          </div>

          <!-- Content Column -->
          <div class="order-1 lg:order-2">
            <h2 class="text-4xl md:text-5xl font-bold mb-6">
              Building Digital Experiences That Matter
            </h2>
            <p class="text-xl text-secondary mb-6 leading-relaxed">
              We're a team of passionate developers, designers, and strategists dedicated to creating exceptional digital solutions. With over a decade of experience, we've helped businesses of all sizes achieve their goals through innovative technology.
            </p>
            <div class="grid grid-cols-2 gap-6 mb-8">
              <div>
                <div class="text-4xl font-bold text-accent mb-2">10+</div>
                <div class="text-secondary">Years Experience</div>
              </div>
              <div>
                <div class="text-4xl font-bold text-accent mb-2">500+</div>
                <div class="text-secondary">Projects Delivered</div>
              </div>
              <div>
                <div class="text-4xl font-bold text-accent mb-2">50+</div>
                <div class="text-secondary">Team Members</div>
              </div>
              <div>
                <div class="text-4xl font-bold text-accent mb-2">98%</div>
                <div class="text-secondary">Client Satisfaction</div>
              </div>
            </div>
            <Button href="/about" variant="primary" size="lg">
              Learn More About Us
            </Button>
          </div>
        </div>
      </Container>
    </Section>

    <!-- Portfolio Section -->
    <Section backgroundColor="secondary" paddingY="large" id="portfolio">
      <Container maxWidth="xl">
        <div class="text-center mb-12">
          <h2 class="text-4xl md:text-5xl font-bold mb-4">Featured Projects</h2>
          <p class="text-xl text-secondary max-w-2xl mx-auto">
            A showcase of our recent work and success stories
          </p>
        </div>

        <PortfolioGrid
          items={[
            {
              id: '1',
              title: 'E-Commerce Platform',
              description: 'Modern e-commerce solution with advanced filtering and seamless checkout experience.',
              image: 'https://images.unsplash.com/photo-1557821552-17105176677c?w=800&q=80',
              category: 'Web Development',
              href: '/portfolio/ecommerce-platform',
            },
            {
              id: '2',
              title: 'Mobile Banking App',
              description: 'Secure mobile banking application with biometric authentication and real-time updates.',
              image: 'https://images.unsplash.com/photo-1563986768609-322da13575f3?w=800&q=80',
              category: 'Mobile',
              href: '/portfolio/banking-app',
            },
            {
              id: '3',
              title: 'Healthcare Dashboard',
              description: 'Real-time analytics dashboard for healthcare professionals with patient management.',
              image: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800&q=80',
              category: 'UI/UX Design',
              href: '/portfolio/healthcare-dashboard',
            },
            {
              id: '4',
              title: 'Social Media Platform',
              description: 'Community-focused social platform with real-time messaging and content sharing.',
              image: 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&q=80',
              category: 'Web Development',
              href: '/portfolio/social-platform',
            },
            {
              id: '5',
              title: 'Fitness Tracking App',
              description: 'Comprehensive fitness app with workout plans, nutrition tracking, and progress analytics.',
              image: 'https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=800&q=80',
              category: 'Mobile',
              href: '/portfolio/fitness-app',
            },
            {
              id: '6',
              title: 'SaaS Product Design',
              description: 'Enterprise SaaS platform with intuitive workflow automation and team collaboration.',
              image: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&q=80',
              category: 'UI/UX Design',
              href: '/portfolio/saas-design',
            },
          ]}
        />
      </Container>
    </Section>

    <!-- Testimonials Section -->
    <Section backgroundColor="tertiary" paddingY="large" id="testimonials">
      <Container maxWidth="xl">
        <div class="text-center mb-12">
          <h2 class="text-4xl md:text-5xl font-bold mb-4">What Our Clients Say</h2>
          <p class="text-xl text-secondary max-w-2xl mx-auto">
            Real feedback from businesses we've helped succeed
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <Testimonial
            quote="This service exceeded all our expectations. The team was professional, responsive, and delivered exceptional results on time and within budget."
            author="Sarah Johnson"
            role="CEO, TechStart Inc."
            photo="https://i.pravatar.cc/150?img=1"
            rating={5}
          />

          <Testimonial
            quote="Working with this team was an absolute pleasure. They understood our vision and brought it to life better than we could have imagined."
            author="Michael Chen"
            role="Product Manager, InnovateCo"
            rating={5}
          />

          <Testimonial
            quote="Great experience overall. The project was completed professionally and the communication throughout was excellent."
            author="Emily Rodriguez"
            role="Marketing Director, CreativeWorks"
            photo="https://i.pravatar.cc/150?img=5"
            rating={4}
          />

          <Testimonial
            quote="I highly recommend their services. The attention to detail and commitment to quality is outstanding."
            author="David Park"
            role="Founder, StartupLab"
            rating={5}
          />
        </div>
      </Container>
    </Section>

    <!-- Latest Blog Posts Section -->
    <Section backgroundColor="primary" paddingY="large" id="blog">
      <Container maxWidth="xl">
        <div class="text-center mb-12">
          <h2 class="text-4xl md:text-5xl font-bold mb-4">Latest Insights</h2>
          <p class="text-xl text-secondary max-w-2xl mx-auto">
            Explore our latest articles and industry insights
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <BlogCard
            blogTitle="Getting Started with Modern Web Development"
            excerpt="Learn the fundamentals of modern web development with this comprehensive guide covering HTML, CSS, JavaScript, and beyond."
            image="https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=800&q=80"
            date="2025-10-15"
            author="Jane Doe"
            readTime="5 min read"
            category="Web Development"
            href="/blog/modern-web-development"
          />

          <BlogCard
            blogTitle="Mastering Responsive Design Patterns"
            excerpt="Discover proven responsive design patterns that work across all devices and screen sizes for optimal user experience."
            image="https://images.unsplash.com/photo-1517180102446-f3ece451e9d8?w=800&q=80"
            date="2025-10-10"
            author="John Smith"
            readTime="8 min read"
            category="Design"
            href="/blog/responsive-design"
          />

          <BlogCard
            blogTitle="The Future of JavaScript Frameworks"
            excerpt="Explore the latest trends and innovations in JavaScript frameworks and what they mean for developers in 2025."
            date="2025-10-05"
            author="Sarah Johnson"
            readTime="6 min read"
            category="JavaScript"
            href="/blog/javascript-frameworks"
          />
        </div>
      </Container>
    </Section>

    <!-- Final CTA Section -->
    <CTASection
      headline="Ready to Start Your Project?"
      description="Let's work together to bring your vision to life. Get in touch with our team today for a free consultation."
      primaryCTA={{ text: "Get Started", href: "/contact" }}
      secondaryCTA={{ text: "Schedule a Call", href: "/contact#schedule" }}
      backgroundColor="tertiary"
    />

  </main>
</BaseLayout>

<script>
  /**
   * Scroll-Triggered Animations (Phase 6.3)
   * GSAP ScrollTrigger animations for home page elements
   */

  // Wait for DOM to be ready
  document.addEventListener('DOMContentLoaded', async () => {
    // Lazy load GSAP utilities for better initial page load performance
    const { staggerGrid, fadeInOnScroll, slideInFromLeft, slideInFromRight, countUp, parallaxScroll } = await import('@utils/gsap');
    // Parallax effect on hero background
    const heroSection = document.querySelector('.hero') as HTMLElement;
    if (heroSection && heroSection.style.backgroundImage) {
      // Apply parallax scroll to hero background
      parallaxScroll(heroSection, {
        yPercent: 50,
        backgroundPosition: true,
        start: 'top top',
        end: 'bottom top',
      });
    }
    // Animate section headings with fade in
    const headings = document.querySelectorAll('h2');
    headings.forEach((heading) => {
      fadeInOnScroll(heading as HTMLElement, { y: 20, duration: 0.6 });
    });

    // Animate service cards with stagger
    const serviceCards = document.querySelectorAll('#services .grid > div');
    if (serviceCards.length > 0) {
      staggerGrid(Array.from(serviceCards) as HTMLElement[], {
        trigger: '#services .grid',
        stagger: 0.15,
        y: 40,
        duration: 0.7,
      });
    }

    // Animate about section - slide in from opposite sides
    const aboutImage = document.querySelector('#about-snapshot .order-2') as HTMLElement;
    const aboutContent = document.querySelector('#about-snapshot .order-1') as HTMLElement;

    if (aboutImage) {
      slideInFromLeft(aboutImage, { x: -40, duration: 0.8 });
    }

    if (aboutContent) {
      slideInFromRight(aboutContent, { x: 40, duration: 0.8 });
    }

    // Animate stat numbers with count-up
    const statNumbers = document.querySelectorAll('#about-snapshot .text-4xl.font-bold.text-accent');
    statNumbers.forEach((stat) => {
      const text = stat.textContent || '';
      const match = text.match(/(\d+)/);
      if (match) {
        const value = parseInt(match[1]);
        const hasPlusSign = text.includes('+');
        const hasPercentSign = text.includes('%');

        countUp(stat as HTMLElement, value, {
          duration: 2.5,
          decimals: 0,
          suffix: hasPlusSign ? '+' : hasPercentSign ? '%' : '',
        });
      }
    });

    // Animate portfolio grid with stagger
    const portfolioItems = document.querySelectorAll('#portfolio .portfolio-grid > div, #portfolio .portfolio-grid > a');
    if (portfolioItems.length > 0) {
      staggerGrid(Array.from(portfolioItems) as HTMLElement[], {
        trigger: '#portfolio',
        stagger: 0.12,
        y: 50,
        duration: 0.8,
      });
    }

    // Animate testimonials with stagger
    const testimonials = document.querySelectorAll('#testimonials .grid > div');
    if (testimonials.length > 0) {
      staggerGrid(Array.from(testimonials) as HTMLElement[], {
        trigger: '#testimonials .grid',
        stagger: 0.2,
        y: 40,
        duration: 0.7,
      });
    }

    // Animate CTA section with fade in
    const ctaSection = document.querySelector('#cta') as HTMLElement;
    if (ctaSection) {
      fadeInOnScroll(ctaSection, { y: 30, duration: 0.8 });
    }
  });
</script>
